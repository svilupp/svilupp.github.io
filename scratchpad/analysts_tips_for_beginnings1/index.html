<!doctype html> <html lang=en > <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-M28VNQP');</script> <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/highlight/styles/github.min.css"> <link href="/css/franklin.css" rel=stylesheet > <link href="/css/vela.css" rel=stylesheet > <script src="/libs/vela/jquery.min.js"></script> <link rel=icon  href="/assets/favicon.png"> <title>Jan's Scratchpad</title> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M28VNQP" height=0  width=0  style="display:none;visibility:hidden"></iframe></noscript> <div class="main-nav slideout-menu slideout-menu-left" id=menu > <div class=flex-container > <span class=sidebar-brand > <h3 style='font-size: 25px'>Scratchpad</h3> </span> </div> <nav class=sidebar-nav > <ul class=metismenu  id=metismenu  > <li><a href="/index.html">Home</a> <li><a href="/scratchpad/">Posts</a> <li><a href="/about/">About</a> <li><a href="/tag/">Tags</a> <li><a href="/privacy_policy/">Privacy Policy</a> <li><a href="/cookie_policy/">Cookie Policy</a> </ul> </nav> </div> <main id=panel  class="slidout-panel slideout-panel-left"> <div class="toggle-button hamburger hamburger--spin"> <div class=hamburger-box > <div class=hamburger-inner ></div> </div> </div> <h1 class="page title">Julia for Analysts: Tips for Better Beginnings - Sharpen your Axe (#1)</h1> <hr> <div class=franklin-content ><h1 id=tldr ><a href="#tldr" class=header-anchor >TL;DR</a></h1> <p>Tips on preparing your tools before you start coding with the Julia language for an easier and more productive learning journey. Prepare your tools before you even start coding. Get a better terminal and configure it. Install pipx, juliaup, and set up your <code>startup.jl</code> file.</p> <div class=franklin-toc ><ol><li><a href="#set_up_your_terminal">Set up your Terminal</a><li><a href="#configure_your_terminal_and_add_secrets">Configure your Terminal and AddÂ Secrets</a><li><a href="#use_pipx">Use Pipx</a><li><a href="#use_mamba_conda">Use Mamba &#40;/Conda&#41;</a><li><a href="#use_juliaup">Use Juliaup</a><li><a href="#create_startupjl">Create startup.jl</a><li><a href="#advanced_precompile_your_sysimage">&#40;Advanced&#41; Precompile your Sysimage</a><li><a href="#use_persistent_sessions_tmux">Use persistent sessions &#40;tmux&#41;</a></ol></div> <h1 id=introduction ><a href="#introduction" class=header-anchor >Introduction</a></h1> <p>If I were to learn Julia all over again, I would do a few things differently.</p> <p>If you are a data professional &#40;analyst/scientist/engineer&#41; looking to <em>minimize the time to learn enough Julia to be dangerous</em>, this series is for you.</p> <h1 id=invest_in_sharpening_your_axe ><a href="#invest_in_sharpening_your_axe" class=header-anchor >Invest in Sharpening your Axe ðŸª“</a></h1> <blockquote> <p>&quot;Give me six hours to chop down a tree and I will spend the first four sharpening the axe.&quot; â€“ Abraham Lincoln</p> </blockquote> <p>President Lincoln knew what all developers learn early on â€“&gt; invest time in setting up your tools.</p> <p>Unfortunately, no one tells you that when you&#39;re a self-taught data analyst/scientists/engineer.</p> <h1 id=general_tips ><a href="#general_tips" class=header-anchor >General Tips</a></h1> <h2 id=set_up_your_terminal ><a href="#set_up_your_terminal" class=header-anchor >Set up your Terminal</a></h2> <p>Whether you like it or not, you will likely spend a lot of time in the terminal, so you might as well set it up well.</p> <p>On a Mac, I&#39;d recommend Iterm2 &#43; zsh &#43; oh-my-zsh. See an <a href="https://medium.com/ayuth/iterm2-zsh-oh-my-zsh-the-most-power-full-of-terminal-on-macos-bdb2823fb04c">installation guide</a></p> <p>Benefits include autocompletion, great highlighting, clear information if you&#39;re in a GIT repository &#40;and which branch&#41;, and many more&#33;</p> <p><em>Difficulty: Low</em> <br /><em>Downsides: None</em></p> <h2 id=configure_your_terminal_and_add_secrets ><a href="#configure_your_terminal_and_add_secrets" class=header-anchor >Configure your Terminal and AddÂ Secrets</a></h2> <p>Do you often call the same long commands? Do you need some secrets or configurations to access the same data warehouse across many projects?</p> <p>Invest time in setting up the default configuration of your shell &#40;eg,<code>~/.zshrc</code> file if you have zsh&#41;.</p> <p><strong>Tricks</strong></p> <ul> <li><p>If you use long commands &#40;eg, different versions of Python or Julia&#41;, give them an alias that you can call directly,</p> <p>eg, add the following line <code>alias myapp&#61;&#39;conda run -n my-app-environment python3 /some/long/path/myapp.py -g -r&#39;</code> and you&#39;ll never have to type this command again. You can simply call <code>myapp</code></p> <li><p>If you use a GIT repository that requires SSH access, it&#39;s nice if your shell remembers your password &#40;see <a href="https://stackoverflow.com/questions/18880024/start-ssh-agent-on-login">Start SSH agent on login</a>&#41;</p> <li><p>Automatically load your credentials into the <a href="https://www.twilio.com/blog/2017/01/how-to-set-environment-variables.html">environment variables</a></p> <ul> <li><p>add the following line <code>source ~/.secrets.sh</code> to your configuration file &#40;eg, <code>~/.zshrc</code>&#41;</p> <li><p>create the file <code>~/.secrets.sh</code> and add the following lines</p> </ul> </ul> <pre><code class="plaintext hljs"># DATABASE CONNECTIONS
export DB_ORACLE_IP=&quot;...&quot; # add your details
export DB_ORACLE_USERNAME=&quot;...&quot; # add your details
export DB_ORACLE_PASSWORD=&quot;...&quot; # add your details

# you can even have aliases for the same value
export MYDB_PASSWORD=$DB_ORACLE_PASSWORD #it will mirror the value above</code></pre> <p>&nbsp;&nbsp;&nbsp;&nbsp;- Now, try accessing these values from the shell &#40;<code>echo &#36;DB_ORACLE_IP</code>&#41;, python &#40;<code>os.environ&#91;&quot;DB_ORACLE_IP&quot;&#93;</code>&#41;, or Julia &#40;<code>ENV&#91;&quot;DB_ORACLE_IP&quot;&#93;</code>&#41;</p> <p>On the last point, there are several benefits:</p> <ul> <li><p>You&#39;ll drastically reduce the risk of accidentally publishing a file with your passwords &#40;eg, <code>.env</code> files&#41;</p> <li><p>It&#39;s easier for your collaborators &#40;and cloud jobs&#41; to set up their own credentials and the code will magically run for all of you</p> <li><p>You can use them across Python/Julia/? without any specialized parsers</p> </ul> <p><em>Difficulty: Low</em> <br /><em>Downsides: None</em></p> <h2 id=use_pipx ><a href="#use_pipx" class=header-anchor >Use Pipx</a></h2> <p>Start using <a href="https://pypa.github.io/pipx/">pipx</a> for all Python-based CLI applications &#40;eg, AWS CLI, black, flake8, jupyter, language servers, mlflow&#41;</p> <p>A lot of Python-based applications ask you to &quot;simply install with pip&quot; &#40;eg, <code>pip install ABC</code>&#41;. Unfortunately doing that will change all relevant python packages in your global environment &#40;ie, break things&#41;&#33;</p> <p>You could create small environments for each application to be able to independently remove them / update them. That is exactly what pipx does for you &#40;and more&#41;&#33;</p> <p>Try it out&#33; On macOS:</p> <pre><code class="plaintext hljs">brew install pipx
pipx ensurepath</code></pre> <p>No more <code>pip install</code>...</p> <p><em>Difficulty: Low</em> <br /><em>Downsides: None</em></p> <h2 id=use_mamba_conda ><a href="#use_mamba_conda" class=header-anchor >Use Mamba &#40;/Conda&#41;</a></h2> <p>Before Julia, having clean environments was not easy. If you use Python, the closest thing you can get is <a href="https://mamba.readthedocs.io/">Mamba</a>.</p> <p>It makes creating and managing separate environments for Python easy and unlike Conda it&#39;s really fast.</p> <p>Read more: <a href="https://github.com/conda-forge/miniforge#mambaforge">Installation instructions</a></p> <p><em>Difficulty: Low <br />Downsides: None</em></p> <h1 id=julia-specific_tips ><a href="#julia-specific_tips" class=header-anchor >Julia-specific Tips</a></h1> <h2 id=use_juliaup ><a href="#use_juliaup" class=header-anchor >Use Juliaup</a></h2> <p>Install <a href="https://github.com/JuliaLang/juliaup">juliaup</a> to install and automatically update your Julia version as well as to switch between different versions.</p> <p>Installing it on a mac or linux is as simple as <code>curl -fsSL https://install.julialang.org | sh</code></p> <h2 id=create_startupjl ><a href="#create_startupjl" class=header-anchor >Create startup.jl</a></h2> <p>Similar to the theme of setting up your terminal with configurations, you can do the same for your Julia.</p> <p>You can have all frequently used packages loaded automatically when you start Julia REPL by adding them to a file called <code>startup.jl</code> &#40;<a href="https://docs.julialang.org/en/v1/manual/command-line-options/">Documentation</a>&#41;.</p> <p>Example:</p> <pre><code class="plaintext hljs"># what text editor to use when edit() is called
# &quot;code&quot; assumes you can call VS Code from your shell
ENV[&quot;JULIA_EDITOR&quot;] = &quot;code&quot;
using Pkg
import REPL
using OhMyREPL
using TheFix;TheFix.@safeword fix true
using BenchmarkTools
using Revise

@async begin
    # reinstall keybindings to work around https://github.com/KristofferC/OhMyREPL.jl/issues/166
    sleep(1)
    OhMyREPL.Prompt.insert_keybindings()
end

# automatically activate a project environment if available
if isfile(&quot;Project.toml&quot;) &amp;&amp; isfile(&quot;Manifest.toml&quot;)
    Pkg.activate(&quot;.&quot;)
end</code></pre> <p>Save this file in <code>~/.julia/config/startup.jl</code> &#40;where <code>~</code> is your user&#39;s home directory&#41;. You will thank me later.</p> <p>If something isn&#39;t working, you can suppress loading startup.jl by starting Julia with <code>julia --startup-file&#61;no</code></p> <p>There are a few packages that haven&#39;t made it to my startup.jl file yet, but I would suggest you consider them:</p> <ul> <li><p><a href="https://github.com/FedeClaudi/Term.jl">Term.jl</a> for displaying available methods with <code>termshow&#40;func&#41;</code></p> <li><p><a href="https://github.com/aviatesk/JET.jl">JET.jl</a> to catch silly errors in your scripts. See <a href="https://www.youtube.com/watch?v&#61;7eOiGc8wfE0">video from JuliaCon 2021</a></p> <li><p><a href="https://github.com/JuliaLang/JuliaSyntax.jl">JuliaSyntax.jl</a> Exciting new syntax parser that will give you much better error messages. I&#39;m waiting for version 0.1. Check out the <a href="https://www.youtube.com/watch?v&#61;CIiGng9Brrk">JuliaCon 2022 video</a></p> </ul> <p><em>Difficulty: Easy <br />Downsides: Slightly slower start-up time of Julia REPL &#40;if you add too many packages&#41;</em></p> <h2 id=advanced_precompile_your_sysimage ><a href="#advanced_precompile_your_sysimage" class=header-anchor >&#40;Advanced&#41; Precompile your Sysimage</a></h2> <p>No beginner should ever start here, but it might happen in the first weeks/months.</p> <p>There is an infamous waiting time for the first time a command runs &#40;eg, waiting for the first plot&#41; or, in general, waiting for Julia REPL with your startup.jl file. If you find it frustrating, use <a href="https://julialang.github.io/PackageCompiler.jl/dev/examples/ohmyrepl.html">PackageCompiler.jl docs</a> to create a system image &#40;&#61;<a href="https://julialang.github.io/PackageCompiler.jl/dev/sysimages.html">Sysimage</a>&#41; with all these packages and functions you use preloaded and precompiled.</p> <p>There is an alternative solution below.</p> <p><em>Difficulty: Medium <br />Downsides: Lost flexibility / ability to easily update &#40;eg, you won&#39;t be able to easily update your Julia or those precompiled packages&#41;</em></p> <h2 id=use_persistent_sessions_tmux ><a href="#use_persistent_sessions_tmux" class=header-anchor >Use persistent sessions &#40;tmux&#41;</a></h2> <p>Following on from the previous point, there is a different way to mostly avoid the &quot;time-to-first-X&quot; &#40;ie, the first compilation&#41;.</p> <p>You can use persistent sessions with tmux &#40;&#61;Terminal MUltipleXer, or others like Screen, Dtach, Abduco&#43;Dvtm&#41;. Persistent means that instead of closing Julia REPL every time, you just disconnect and later on reconnect. It will remember all your loaded functions, variables, packages, etc.</p> <p>Note: This is incredibly useful if you use Julia REPL as your super-calculator / Excel replacement.</p> <p><strong>Try it:</strong></p> <ul> <li><p>Open your shell</p> <li><p>Type <code>tmux</code> and a new window will open</p> <li><p>Type <code>julia</code> to start Julia REPL and print something, eg, <code>println&#40;&quot;Hello&#33;&quot;&#41;</code></p> <li><p>Now disconnect from this session by pressing <code>CTRL&#43;b</code> followed by <code>d</code>, and your screen show disappear &#40;/switch back to the previous shell&#41;</p> <li><p>Type <code>tmux a</code> and you should see your Julia session with &quot;Hello&quot; printed</p> </ul> <p>Read more: <a href="https://www.hamvocke.com/blog/a-quick-and-easy-guide-to-tmux/">Quick and Easy Guide to Tmux</a></p> <p><em>Difficulty: Low <br />Downsides: None &#40;except for the layer of complexity&#41;</em></p> <div class=page-foot > <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> Jan Siml. Last modified: April 20, 2024. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. See the <a href="/privacy_policy/">Privacy Policy</a> </div> </div> </main> <script src="/libs/vela/metisMenu.min.js"></script> <script src="/libs/vela/slideout.min.js"></script> <script src="/libs/highlight/highlight.min.js"></script> <script>hljs.highlightAll();hljs.configure({tabReplace: ' '});</script>