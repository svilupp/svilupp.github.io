<!doctype html> <html lang=en > <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-M28VNQP');</script> <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/highlight/styles/github.min.css"> <link href="/css/franklin.css" rel=stylesheet > <link href="/css/vela.css" rel=stylesheet > <script src="/libs/vela/jquery.min.js"></script> <link rel=icon  href="/assets/favicon.png"> <title>Jan's Scratchpad</title> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M28VNQP" height=0  width=0  style="display:none;visibility:hidden"></iframe></noscript> <div class="main-nav slideout-menu slideout-menu-left" id=menu > <div class=flex-container > <span class=sidebar-brand > <h3 style='font-size: 25px'>Scratchpad</h3> </span> </div> <nav class=sidebar-nav > <ul class=metismenu  id=metismenu  > <li><a href="/index.html">Home</a> <li><a href="/scratchpad/">Posts</a> <li><a href="/about/">About</a> <li><a href="/tag/">Tags</a> <li><a href="/privacy_policy/">Privacy Policy</a> <li><a href="/cookie_policy/">Cookie Policy</a> </ul> </nav> </div> <main id=panel  class="slidout-panel slideout-panel-left"> <div class="toggle-button hamburger hamburger--spin"> <div class=hamburger-box > <div class=hamburger-inner ></div> </div> </div> <h1 class="page title">Julia for Analysts: Tips for Better Beginnings - The Bigger Picture (#5)</h1> <hr> <div class=franklin-content ><h1 id=tldr ><a href="#tldr" class=header-anchor >TL;DR</a></h1> <p>After the first week, have a look at other tools that the Julia ecosystem offers &#40;Revise, Logging, Debugger&#41;. After the first month, re-visit the tools to solve the biggest pain points you encountered. Julia is only a small part of any project&#39;s &#40;model/insight/application&#41; success - invest time in version control, experiment logging, effortless outputs, and automation.</p> <h2 id=packages_that_i_wish_to_have_used_earlier ><a href="#packages_that_i_wish_to_have_used_earlier" class=header-anchor >Packages that I wish to have used earlier</a></h2> <h3 id=revisejl ><a href="#revisejl" class=header-anchor >Revise.jl</a></h3> <p><a href="https://timholy.github.io/Revise.jl/stable/">Revise.jl</a> is the best thing since sliced bread&#33; Your &#40;loaded&#41; code will magically update every time you make a change and you don&#39;t need to restart Julia.</p> <p>I used to simply track my scripts with <code>includet&#40;&#41;</code>, but I have now started creating a dedicated package for every mini analysis &#40;with <code>&#93;generate</code>&#41;. As soon as it deserves its own folder, it deserves its own project specifications - there are several downstream benefits as well.</p> <h3 id=pkgtemplatesjl ><a href="#pkgtemplatesjl" class=header-anchor >PkgTemplates.jl</a></h3> <p>If you&#39;re considering publishing your work, you should ALWAYS start your project with <a href="https://invenia.github.io/PkgTemplates.jl/">PkgTemplates.jl</a>.</p> <p>A turnkey solution for a modern Julia package - it can set up your folder structure, documentation, tests, git, Github actions, and many more.</p> <h3 id=testjl ><a href="#testjl" class=header-anchor >Test.jl</a></h3> <p>Testing could not be easier &#40;<code>using Test</code>&#41;&#33; I think the overhead for a light test suite is c. 2 minutes per function and it will save you countless hours of debugging&#33;</p> <p>My workflow:</p> <ul> <li><p>I apply the &quot;Rule of Three&quot; - If I use some logic 3 or more times &#40;or know that I will&#41;, I wrap it in a function, generate light docstrings and add a simple assertion statement to test the expected output &#40;<code>@assert X&#61;&#61;Z</code>&#41;.</p> <li><p>This function lives in a file in the <code>src</code> folder, but Revise.jl package takes care of re-loading every change I make.</p> <li><p>I then move the code into a file in <code>test</code> folder in my project and add register it with my project &#40;<code>include&#40;data_handlers.jl&#41;</code> line in <code>test/runtests.jl</code>&#41;</p> <li><p>The only thing left to do is to replace <code>@assert</code> for <code>@test</code> &#40;optionally wrap several tests into <code>@testset</code>s&#41; and run all your tests with <code>&#93;test</code> &#40;in the REPL package mode&#41;.</p> </ul> <h3 id=loggingjl ><a href="#loggingjl" class=header-anchor >Logging.jl</a></h3> <p>Part of the standard library, but awesome nonetheless. Macro <code>@info</code> is your friend and you will never use print again&#33;</p> <p>You can customize your loggers with <a href="https://github.com/JuliaLogging/LoggingExtras.jl">LoggingExtras.jl</a>.</p> <h3 id=debuggerjl ><a href="#debuggerjl" class=header-anchor >Debugger.jl</a></h3> <p><a href="https://github.com/JuliaDebug/Debugger.jl">Debugger.jl</a> is an excellent tool to debug your code interactively without having to do any initial setup.</p> <p><a href="https://github.com/JuliaDebug/Infiltrator.jl">Infiltrator.jl</a> is a lighter alternative if all you care about is setting a breakpoint and being able to inspect the context.</p> <p>My typical workflow when I get an odd error from <code>my_func_that_breaks&#40;&#41;</code></p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Debugger
names(Debugger) <span class=hljs-comment ># to see the functions  it exports</span>
break_on_error(<span class=hljs-literal >true</span>) <span class=hljs-comment >#or break_on(:error)</span>
<span class=hljs-meta >@run</span> my_func_that_breaks()
<span class=hljs-comment ># once inside, type ? to get help, backtick to switch to julia execution mode, and q to quit</span></code></pre> <h3 id=jetjl ><a href="#jetjl" class=header-anchor >JET.jl</a></h3> <p>An awesome code analyzer, <a href="https://github.com/aviatesk/JET.jl">JET.jl</a>, can catch your errors before you run your code.</p> <p>Simply run: <code>using JET; report_and_watch_file&#40;&quot;my_script.jl&quot;,annotate_types&#61;true&#41;</code></p> <h3 id=juliasyntaxjl ><a href="#juliasyntaxjl" class=header-anchor >JuliaSyntax.jl</a></h3> <p><a href="https://github.com/JuliaLang/JuliaSyntax.jl">JuliaSyntax.jl</a> is an exciting new syntax parser that will give you much better error messages. I&#39;m waiting for version 0.1 to add it to my startup.jl. Check out the <a href="https://www.youtube.com/watch?v&#61;CIiGng9Brrk">JuliaCon 2022 video</a></p> <h3 id=termjl ><a href="#termjl" class=header-anchor >Term.jl</a></h3> <p><a href="https://github.com/FedeClaudi/Term.jl">Term.jl</a> is mostly for building beautiful CLIs and terminal applications &#40;similar to <a href="https://rich.readthedocs.io/en/stable/introduction.html">Rich</a> in Python&#41;</p> <p>However, it has several nice methods for everyday use, eg, <code>termshow&#40;func&#41;</code> for displaying available methods and the soon-to-be-released <code>@showme</code> macro that will show you the definition of a given method instance.</p> <h3 id=juliaformatterjl ><a href="#juliaformatterjl" class=header-anchor >JuliaFormatter.jl</a></h3> <p><a href="https://github.com/domluna/JuliaFormatter.jl">JuliaFormatter.jl</a> is a great saver and it makes your code much more readable.</p> <p>All you need to do is to run: <code>using JuliaFormatter; format&#40;&quot;.&quot;&#41;</code> in your project directory.</p> <h3 id=literatejl ><a href="#literatejl" class=header-anchor >Literate.jl</a></h3> <p><a href="https://fredrikekre.github.io/Literate.jl/v2/">Literate.jl</a> is your gateway to Literate Programming&#93;&#40;https://en.wikipedia.org/wiki/Literate_programming&#41;.</p> <p>In short, you can write your code as an easily readable and version-controlled script but with one command you can export it into Markdown, Notebooks, etc.</p> <p>The best part is that you don&#39;t need to change almost anything - just add a <code>#</code> here and there to achieve the desired layout.</p> <p>What are the benefits of Literate Programming?</p> <p>In the world of data, it&#39;s often not enough that your code runs and tests succeed, you need to be able to explain it and document it for other stakeholders and yourself &#40;there are sometimes 100&#43; projects in a year, would you really remember what you did?&#41;.</p> <p>It is even more powerful when used with Quarto.</p> <h3 id=quarto ><a href="#quarto" class=header-anchor >Quarto</a></h3> <p><a href="https://quarto.org/">Quarto</a> is &quot;an open-source scientific and technical publishing system built on Pandoc&quot; &#40;you could say it&#39;s a cross-platform successor to Rmarkdown &#43; Knitr available to Python and Julia users&#41;.</p> <p>I have not seen a better tool for parametrized runs and for publishing of beautiful reports in many output formats &#40;presentations, HTML reports, and more&#41;.</p> <p>See <a href="https://quarto.org/docs/computations/julia.html">Using Julia in Quarto</a>.</p> <p>My workflow is often to push my script into Quarto Markdown &#40;with Literate.jl&#41; and then produce an HTML report &#40;for distribution&#41; and an interactive Revealjs presentation for the meetings. As an ex-management consultant, I cannot believe how easy it is to create such beautiful and professional presentations.</p> <h2 id=re-think_your_overall_workflow ><a href="#re-think_your_overall_workflow" class=header-anchor >Re-think your overall workflow</a></h2> <p>Julia is only a small part of any project&#39;s &#40;model/insight/application&#41; success. Invest time in building a robust workflow around it.</p> <p>The below overview has some pointers on what works well for me and my use cases.</p> <p>My Project Ecosystem</p> <ul> <li><p>Project structure &#43; Documentation</p> <ul> <li><p>Structure your project in a way that any collaborator will know how to navigate &#40;eg, use PkgTemplates.jl and get inspired with <a href="https://cookiecutter.readthedocs.io/en/stable/">Cookiecutter</a> folder structure&#41;</p> <li><p>At first, describe your project in the README.md file and explain step by step how to run it &#40;/re-train models&#41;</p> <li><p>Later on, build proper documentation with examples &#40;eg, Literate.jl &#43; Documenter.jl&#41;</p> </ul> <li><p>Version Control</p> <ul> <li><p>Source code with git &#40;eg, use Github Desktop, it makes everything effortless&#41;</p> <li><p>Data &#40;eg, use DVC with AWS S3 backend, it is very cheap and easy to set up&#41;</p> </ul> <li><p>Put the science back into data science</p> <ul> <li><p>Track your experiments and progress towards your success metrics &#40;eg, MLFlow is great - you can use <a href="https://github.com/JuliaAI/MLFlowClient.jl">MLFlowClient.jl</a> or <a href="https://dvc.org/doc/use-cases/experiment-tracking">DVC Experiment Tracking</a>&#41;</p> </ul> <li><p>Publish beautiful reports and presentations</p> <ul> <li><p>There is never enough commentary and artifacts that describe the logic you applied or of reports that discuss the reports and findings &#40;eg, use Literate.jl &#43; Quarto&#41;</p> </ul> <li><p>Automate your workflow</p> <ul> <li><p>Locally: If you frequently repeat some commands in your shell, wrap them into a <a href="https://opensource.com/article/18/8/what-how-makefile">Makefile</a> or add an alias in your shell&#39;s config file &#40;see article #1&#41;</p> <li><p>On the cloud: Github Actions or Azure Pipelines can run your test suite and any other checks every time your push. This is invaluable in terms of bashing the bugs that take a long time to surface and takes minutes to set up.</p> </ul> </ul> <p>Honorable mentions that I have seen used but have no experience with:</p> <ul> <li><p><a href="https://github.com/JuliaDynamics/DrWatson.jl">DrWatson.jl</a> with a tag line &quot;The perfect sidekick to your scientific inquiries&quot;. It has been used in several projects, including UK&#39;s epidemiological modelling &#40;<a href="https://github.com/epimap/Epimap.jl-public">Epimap.jl</a>&#41;</p> <li><p><a href="https://github.com/helgee/RemoteFiles.jl">RemoteFiles.jl</a> when you have to keep up-to-date with some remote origins</p> </ul> <div class=page-foot > <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> Jan Siml. Last modified: December 24, 2023. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. See the <a href="/privacy_policy/">Privacy Policy</a> </div> </div> </main> <script src="/libs/vela/metisMenu.min.js"></script> <script src="/libs/vela/slideout.min.js"></script> <script src="/libs/highlight/highlight.min.js"></script> <script>hljs.highlightAll();hljs.configure({tabReplace: ' '});</script>